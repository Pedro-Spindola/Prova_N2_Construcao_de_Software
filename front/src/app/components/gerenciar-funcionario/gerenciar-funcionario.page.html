<div class="funcionario-form-container">
  
  <header class="header">
    <img src="logo.png" alt="logo" class="logo" />
    <h1>{{ isEditing ? 'Editar Funcionário' : 'Novo Funcionário' }}</h1>
    <button type="button" class="btn-voltar" (click)="voltar()">Voltar</button>
</header>

  <main class="main-content">
    <form [formGroup]="funcionarioForm" (ngSubmit)="onSubmit()">

      <div *ngIf="isEditing" class="form-group">
        <label for="id">Id:</label>
        <input id="id" type="number" formControlName="id" readonly />
      </div>

      <div class="form-group">
        <label for="nome">Nome:</label>
        <input type="text" id="nome" formControlName="nome" />
        <div *ngIf="f['nome'].invalid && f['nome'].touched" class="error-message">
          Nome é obrigatório.
        </div>
      </div>

      <div class="form-group">
        <label for="email">Email:</label>
        <input id="email" type="email" formControlName="email" />
        <div *ngIf="f['email'].invalid && f['email'].touched" class="error-message">
          <span *ngIf="f['email'].errors?.['required']">Email é obrigatório.</span>
          <span *ngIf="f['email'].errors?.['email']">Email inválido.</span>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="senha">Senha:</label>
          <input id="senha" type="password" formControlName="senha" />
          <div *ngIf="f['senha'].invalid && f['senha'].touched" class="error-message">
            <span *ngIf="isEditing">Deixe em branco para não alterar.</span>
            <span *ngIf="!isEditing && f['senha'].errors?.['required']">Senha é obrigatória.</span>
            <span *ngIf="f['senha'].errors?.['minlength']">Mínimo 6 caracteres.</span>
          </div>
        </div>
        <div class="form-group">
          <label for="confirmarSenha">Confirmar Senha:</label>
          <input id="confirmarSenha" type="password" formControlName="confirmarSenha" />
          <div *ngIf="f['confirmarSenha'].invalid && f['confirmarSenha'].touched" class="error-message">
             <span *ngIf="f['confirmarSenha'].errors?.['senhasNaoCoincidem']">As senhas não coincidem.</span>
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="perfil">Perfil</label>
          <select id="perfil" formControlName="perfil">
            <option *ngFor="let p of perfilOptions" [value]="p">{{ p }}</option>
          </select>
        </div>
        <div class="form-group">
          <label for="status">Status</label>
          <select id="status" formControlName="status">
            <option *ngFor="let s of statusOptions" [value]="s">{{ s }}</option>
          </select>
        </div>
      </div>

      <div class="form-actions">
        <button type="submit" class="btn btn-salvar" [disabled]="funcionarioForm.invalid">Salvar</button>
      </div>

    </form>
  </main>
</div>